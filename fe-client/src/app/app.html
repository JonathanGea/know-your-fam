<div class="min-h-svh flex flex-col bg-white text-gray-900 dark:bg-neutral-950 dark:text-gray-100">
  <!-- Top App Bar -->
  <header class="sticky top-0 z-10 bg-white/90 dark:bg-neutral-950/90 backdrop-blur border-b border-gray-200 dark:border-neutral-800">
    <div class="max-w-md mx-auto px-4 py-3 flex items-center gap-3">
      <div class="size-9 rounded-full bg-indigo-600 text-white flex items-center justify-center font-semibold">KF</div>
      <div class="flex-1">
        <h1 class="text-base font-semibold leading-tight">Know Your Fam</h1>
        <p class="text-xs text-gray-500 dark:text-gray-400">Aplikasi contoh layout mobile</p>
      </div>
      <button aria-label="Toggle theme" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800" (click)="toggleTheme()">
        <!-- Moon when light (to switch to dark) -->
        <svg [class.hidden]="dark()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
          <path d="M21.752 15.002A9.718 9.718 0 0 1 12 21.75c-5.385 0-9.75-4.365-9.75-9.75 0-4.337 2.79-8.01 6.676-9.306a.75.75 0 0 1 .967.967A8.25 8.25 0 0 0 20.25 15.75a.75.75 0 0 1 1.502-.748Z"/>
        </svg>
        <!-- Sun when dark (to switch to light) -->
        <svg [class.hidden]="!dark()" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
          <path d="M12 18.75a6.75 6.75 0 1 0 0-13.5 6.75 6.75 0 0 0 0 13.5ZM12 1.5a.75.75 0 0 1 .75.75v1.5a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5Zm0 18a.75.75 0 0 1 .75.75v1.5a.75.75 0 1 1-1.5 0v-1.5a.75.75 0 0 1 .75-.75ZM4.72 4.72a.75.75 0 0 1 1.06 0l1.06 1.06a.75.75 0 1 1-1.06 1.06L4.72 5.78a.75.75 0 0 1 0-1.06Zm12.44 12.44a.75.75 0 0 1 1.06 0l1.06 1.06a.75.75 0 1 1-1.06 1.06l-1.06-1.06a.75.75 0 0 1 0-1.06ZM1.5 12a.75.75 0 0 1 .75-.75h1.5a.75.75 0 1 1 0 1.5H2.25A.75.75 0 0 1 1.5 12Zm18 0a.75.75 0 0 1 .75-.75h1.5a.75.75 0 1 1 0 1.5h-1.5a.75.75 0 0 1-.75-.75ZM4.72 19.28a.75.75 0 0 1 1.06 0l1.06-1.06a.75.75 0 0 1 1.06 1.06L6.84 20.34a.75.75 0 0 1-1.06 0Zm12.44-12.44a.75.75 0 0 1 1.06 0l1.06-1.06a.75.75 0 0 1-1.06-1.06l-1.06 1.06a.75.75 0 0 1 0 1.06Z"/>
        </svg>
      </button>
      <button aria-label="Search" class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-neutral-800">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5"><path fill-rule="evenodd" d="M10.5 3.75a6.75 6.75 0 1 0 3.988 12.225l4.769 4.768a.75.75 0 1 0 1.06-1.06l-4.768-4.77A6.75 6.75 0 0 0 10.5 3.75m-5.25 6.75a5.25 5.25 0 1 1 10.5 0 5.25 5.25 0 0 1-10.5 0" clip-rule="evenodd"/></svg>
      </button>
    </div>
  </header>

  <!-- Main content -->
  <main class="flex-1 max-w-md w-full mx-auto px-4 pb-20 pt-4">
    <router-outlet></router-outlet>
  </main>

  <!-- Bottom Tab Bar -->
  <nav class="fixed bottom-0 inset-x-0 border-t border-gray-200 dark:border-neutral-800 bg-white/95 dark:bg-neutral-950/95 backdrop-blur">
    <div class="max-w-md mx-auto grid grid-cols-3 gap-1 px-6 py-2">
      <a routerLink="/" routerLinkActive="text-indigo-600" [routerLinkActiveOptions]="{ exact: true }" class="flex flex-col items-center gap-1 py-1 text-xs text-gray-600 dark:text-gray-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5"><path d="M11.47 3.841a.75.75 0 0 1 1.06 0l8.69 8.69a.75.75 0 1 1-1.06 1.06L12 5.53 3.84 13.59a.75.75 0 1 1-1.06-1.06z"/><path d="M12 5.53 4.5 13.03V21a.75.75 0 0 0 .75.75H9a.75.75 0 0 0 .75-.75v-3.75A1.5 1.5 0 0 1 11.25 15h1.5A1.5 1.5 0 0 1 14.25 17.25V21a.75.75 0 0 0 .75.75h3.75a.75.75 0 0 0 .75-.75v-7.97z"/></svg>
        <span>Beranda</span>
      </a>
      <a routerLink="/tree" routerLinkActive="text-indigo-600" class="flex flex-col items-center gap-1 py-1 text-xs text-gray-600 dark:text-gray-300">
        <!-- simple graph icon -->
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5">
          <path d="M7.5 4.5a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm0 0v5.25A3.75 3.75 0 0 0 11.25 13.5h1.5A3.75 3.75 0 0 0 16.5 9.75V8.5m0-4a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM6 19.5a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Zm12 0a2.25 2.25 0 1 0 0-4.5 2.25 2.25 0 0 0 0 4.5Z"/>
        </svg>
        <span>Tree</span>
      </a>
      <a routerLink="/profile" routerLinkActive="text-indigo-600" class="flex flex-col items-center gap-1 py-1 text-xs text-gray-600 dark:text-gray-300">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-5"><path fill-rule="evenodd" d="M7.5 6.75a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0M3.75 20.25A8.25 8.25 0 0 1 12 12a8.25 8.25 0 0 1 8.25 8.25V21a.75.75 0 0 1-.75.75H4.5A.75.75 0 0 1 3.75 21z" clip-rule="evenodd"/></svg>
        <span>Profil</span>
      </a>
    </div>
  </nav>
</div>
